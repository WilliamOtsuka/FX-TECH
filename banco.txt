CREATE DATABASE escola;
USE escola;

CREATE TABLE Materia (
    idMateria INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255) NOT NULL
);

CREATE TABLE Atividade (
    idAtividade INT AUTO_INCREMENT PRIMARY KEY,
    titulo VARCHAR(255) NOT NULL,
    descricao TEXT,
    dataEntrega DATE,
    hora TIME,
    idMateria INT,
    FOREIGN KEY (idMateria) REFERENCES Materia(idMateria)
);

-- Inserindo matérias na tabela Materia
INSERT INTO Materia (nome) VALUES 
('Matemática'),
('Português'),
('História'),
('Ciências'),
('Geografia');

-- Inserindo atividades na tabela Atividade
INSERT INTO Atividade (titulo, descricao, dataEntrega, hora, idMateria) VALUES
('Lista de Exercícios - Álgebra', 'Resolver os exercícios da página 45 do livro.', '2025-04-01', '23:59:00', 1),
('Redação sobre Meio Ambiente', 'Escrever uma redação sobre sustentabilidade.', '2025-04-02', '22:00:00', 2),
('Resumo sobre Revolução Francesa', 'Fazer um resumo sobre os principais eventos da Revolução Francesa.', '2025-04-03', '18:00:00', 3),
('Experimento de Química', 'Realizar o experimento de reações químicas em casa.', '2025-04-04', '20:00:00', 4),
('Mapa Mundi Interativo', 'Estudar os continentes e localizar países no mapa.', '2025-04-05', '21:30:00', 5);

CREATE TABLE Alunos (
    idAluno INT AUTO_INCREMENT PRIMARY KEY,
    nome TEXT,
    RA TEXT
);

INSERT INTO Alunos (idAuluno, nome, RA) VALUES ('1', 'Nome1', '111222333');

CREATE TABLE AtividadesEntregues (
    idEntrega INT AUTO_INCREMENT PRIMARY KEY,
    idAluno INT NOT NULL,
    idAtividade INT NOT NULL,
    descricao TEXT,
    dataEntrega DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (idAluno) REFERENCES Alunos(idAluno), -- Supondo que exista uma tabela 'Alunos'
    FOREIGN KEY (idAtividade) REFERENCES Atividade(idAtividade) -- Supondo que exista uma tabela 'Atividade'
);
